{% load static %}
{% load l10n %}
<!-- load filebrowser templatetags -->
{% load fb_versions %}
{% load mathfilters %}

<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Test</title>

    <link rel="stylesheet" href="{% static "assets/js/jsOnlyLightbox-0.5.6/css/lightbox.min.css" %}">

    <script>
      window.lazySizesConfig = window.lazySizesConfig || {};
      //only for demo in production I would use normal expand option
      window.lazySizesConfig.expand = 90;
    </script>
    <script src="//cdn.jsdelivr.net/g/lazysizes(lazysizes.min.js)" async=""></script>
    <script src="//cdn.jsdelivr.net/g/jquery@2.1.3(jquery.min.js),isotope@2.0.0(jquery.isotope.min.js)"></script>

    <style media="screen">
        *, :before, :after {
          box-sizing: border-box;
        }
        /*body {
          background: radial-gradient(ellipse at center,  rgba(0,85,107,1) 0%,rgba(0,0,0,1) 100%);
        }*/

        .isotope-wrapper {
          position: relative;
          width: 70%;
          max-width: 980px;
          min-width: 480px;
          margin: auto;
        }

        .isotope-box {
          position: relative;
          width: 100%;
        }

        .isotope-toolbar {
          background: rgba(66, 66, 99, 0.3);
          padding: 10px;
          margin: 10px;
          color: #eee;
        }
        .isotope-toolbar p {
          border-top: 1px solid #fff;
          padding-top: 15px;
        }
        .isotope-toolbar a {
          color: #fff;
        }

        .isotope-item {
          position: relative;
          width: 31%;
          height: auto;
          margin: 1%;
          box-shadow: 1px 2px 30px rgba(0, 0, 0, 0.9);
        }

        /*.isotope-item:before {*/
        .isotope-item a {
          content: '';
          display: inline-block;
          /*padding-top: 60%;*/
        }

        /*.item-portrait:before {*/
        /*.item-portrait a {
          padding-top: 165%;
        }*/

        .isotope-item img {
          position: absolute;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          display: block;
        }

        /*.isotope-item a img {
          width: 100%;
          height: auto;
        }*/

        .lazyload {
          background: #f7f7f7;
        }

        .lazyloading {
          background: #f7f7f7 url(//afarkas.github.io/lazysizes/assets/imgs/loader.gif) no-repeat center;
          min-height: 60px;
        }
    </style>
  </head>
  <body>
    <div class="isotope-wrapper">
    	<form class="isotope-toolbar">
    		<label><input type="radio" data-type="*" checked="" name="isotope-filter"> all</label>
    		<label><input type="radio" data-type="people" name="isotope-filter"> people</label>
    		<label><input type="radio" data-type="nature" name="isotope-filter"> nature</label>
    		<label><input type="radio" data-type="animals" name="isotope-filter"> animals</label>
        <p><a href="https://github.com/aFarkas/lazysizes" target="_blank">lazySizes</a> integrates seamlessly with <a href="https://isotope.metafizzy.co/" target="_blank">isotope/masonry</a></p>
    	</form>
      <div class="isotope-box">
        <!-- <div class="isotope-item" data-type="nature">
          <a href="#">
    			     <img data-src="http://lorempixel.com/400/240/nature/7/" class="lazyload" />
          </a>
    		</div>
    		<div class="isotope-item" data-type="people">
          <a href="#">
    			     <img data-src="http://lorempixel.com/400/240/people/2/" class="lazyload" />
          </a>
    		</div>
    		<div class="isotope-item item-portrait" data-type="animals">
          <a href="#">
    			     <img data-src="http://lorempixel.com/240/400/animals/9/" class="lazyload" />
          </a>
    		</div>
    		<div class="isotope-item" data-type="people">
          <a href="#">
    			     <img data-src="http://lorempixel.com/400/240/people/4/" class="lazyload" />
          </a>
    		</div>
    		<div class="isotope-item item-portrait" data-type="people">
          <a href="#">
    			     <img data-src="http://lorempixel.com/240/400/people/6/" class="lazyload" />
          </a>
    		</div>
    		<div class="isotope-item" data-type="people">
          <a href="#">
    			     <img data-src="http://lorempixel.com/400/240/people/5/" class="lazyload" />
          </a>
    		</div>
    		<div class="isotope-item item-portrait" data-type="animals">
          <a href="#">
    			     <img data-src="http://lorempixel.com/240/400/animals/1/" class="lazyload" />
          </a>
    		</div>
    		<div class="isotope-item item-portrait" data-type="animals">
          <a href="#">
    			     <img data-src="http://lorempixel.com/240/400/animals/2/" class="lazyload" />
          </a>
    		</div>
    		<div class="isotope-item" data-type="people">
          <a href="#">
    			     <img data-src="http://lorempixel.com/400/240/people/6/" class="lazyload" />
          </a>
    		</div>
    		<div class="isotope-item" data-type="people">
          <a href="#">
    			     <img data-src="http://lorempixel.com/400/240/people/8/" class="lazyload" />
          </a>
    		</div>
    		<div class="isotope-item" data-type="people">
          <a href="#">
    			     <img data-src="http://lorempixel.com/400/240/people/9/" class="lazyload" />
          </a>
    		</div>
    		<div class="isotope-item item-portrait" data-type="people">
          <a href="#">
    			     <img data-src="http://lorempixel.com/240/400/people/1/" class="lazyload" />
          </a>
    		</div>
    		<div class="isotope-item item-portrait" data-type="people">
          <a href="#">
    			     <img data-src="http://lorempixel.com/240/400/people/4/" class="lazyload" />
          </a>
    		</div>
    		<div class="isotope-item item-portrait" data-type="animals">
          <a href="#">
    			     <img data-src="http://lorempixel.com/240/400/animals/8/" class="lazyload" />
          </a>
    		</div>
    		<div class="isotope-item item-portrait" data-type="people">
          <a href="#">
    			     <img data-src="http://lorempixel.com/240/400/people/5/" class="lazyload" />
          </a>
    		</div>
    		<div class="isotope-item" data-type="animals">
          <a href="#">
    			     <img data-src="http://lorempixel.com/400/240/animals/1/" class="lazyload" />
          </a>
    		</div>
    		<div class="isotope-item item-portrait" data-type="nature">
          <a href="#">
    			     <img data-src="http://lorempixel.com/240/400/nature/9/" class="lazyload" />
          </a>
    		</div>
    		<div class="isotope-item item-portrait" data-type="people">
          <a href="#">
    			     <img data-src="http://lorempixel.com/240/400/people/8/" class="lazyload" />
          </a>
    		</div>
    		<div class="isotope-item item-portrait" data-type="people">
          <a href="#">
    			     <img data-src="http://lorempixel.com/240/400/people/9/" class="lazyload" />
          </a>
    		</div>
    		<div class="isotope-item" data-type="nature">
          <a href="#">
    			     <img data-src="http://lorempixel.com/400/240/nature/1/" class="lazyload" />
          </a>
    		</div>
    		<div class="isotope-item" data-type="nature">
          <a href="#">
    			     <img data-src="http://lorempixel.com/400/240/nature/2/" class="lazyload" />
          </a>
    		</div>
    		<div class="isotope-item" data-type="nature">
          <a href="#">
    			     <img data-src="http://lorempixel.com/400/240/nature/3/" class="lazyload" />
          </a>
    		</div>
    		<div class="isotope-item" data-type="people">
          <a href="#">
    			     <img data-src="http://lorempixel.com/400/240/people/3/" class="lazyload" />
          </a>
    		</div>
    		<div class="isotope-item" data-type="animals">
          <a href="#">
    			     <img data-src="http://lorempixel.com/400/240/animals/4/" class="lazyload" />
          </a>
    		</div>
    		<div class="isotope-item item-portrait" data-type="animals">
          <a href="#">
    			     <img data-src="http://lorempixel.com/240/400/animals/6/" class="lazyload" />
          </a>
    		</div>
    		<div class="isotope-item item-portrait" data-type="people">
          <a href="#">
    			     <img data-src="http://lorempixel.com/240/400/people/2/" class="lazyload" />
          </a>
    		</div>
    		<div class="isotope-item item-portrait" data-type="people">
          <a href="#">
    			     <img data-src="http://lorempixel.com/240/400/people/3/" class="lazyload" />
          </a>
    		</div> -->
        {% for i in photos %}
          {% version i.image 'thumbnail' as thumb %}
      		<figure class="isotope-item {% if thumb.orientation == 'Portrait' %}item-portrait{% endif %}">
      			<a href="{{i.image.url}}" style="padding-top:{{thumb.height|div:thumb.width|mul:100|unlocalize}}%;" data-jslghtbx="{{i.image.url}}" data-jslghtbx-group="mygroup1">
            	<img data-src="{{thumb.url}}" class="lazyload" alt="">
      			</a>
      		</figure>
      	{% endfor %}
        <!-- <div class="isotope-item" data-type="nature">
    			<img data-src="http://lorempixel.com/400/240/nature/7/" class="lazyload" />
    		</div>
    		<div class="isotope-item" data-type="people">
    			<img data-src="http://lorempixel.com/400/240/people/2/" class="lazyload" />
    		</div>
    		<div class="isotope-item item-portrait" data-type="animals">
    			<img data-src="http://lorempixel.com/240/400/animals/9/" class="lazyload" />
    		</div>
    		<div class="isotope-item" data-type="people">
    			<img data-src="http://lorempixel.com/400/240/people/4/" class="lazyload" />
    		</div>
    		<div class="isotope-item item-portrait" data-type="people">
    			<img data-src="http://lorempixel.com/240/400/people/6/" class="lazyload" />
    		</div>
    		<div class="isotope-item" data-type="people">
    			<img data-src="http://lorempixel.com/400/240/people/5/" class="lazyload" />
    		</div>
    		<div class="isotope-item item-portrait" data-type="animals">
    			<img data-src="http://lorempixel.com/240/400/animals/1/" class="lazyload" />
    		</div>
    		<div class="isotope-item item-portrait" data-type="animals">
    			<img data-src="http://lorempixel.com/240/400/animals/2/" class="lazyload" />
    		</div>
    		<div class="isotope-item" data-type="people">
    			<img data-src="http://lorempixel.com/400/240/people/6/" class="lazyload" />
    		</div>
    		<div class="isotope-item" data-type="people">
    			<img data-src="http://lorempixel.com/400/240/people/8/" class="lazyload" />
    		</div>
    		<div class="isotope-item" data-type="people">
    			<img data-src="http://lorempixel.com/400/240/people/9/" class="lazyload" />
    		</div>
    		<div class="isotope-item item-portrait" data-type="people">
    			<img data-src="http://lorempixel.com/240/400/people/1/" class="lazyload" />
    		</div>
    		<div class="isotope-item item-portrait" data-type="people">
    			<img data-src="http://lorempixel.com/240/400/people/4/" class="lazyload" />
    		</div>
    		<div class="isotope-item item-portrait" data-type="animals">
    			<img data-src="http://lorempixel.com/240/400/animals/8/" class="lazyload" />
    		</div>
    		<div class="isotope-item item-portrait" data-type="people">
    			<img data-src="http://lorempixel.com/240/400/people/5/" class="lazyload" />
    		</div>
    		<div class="isotope-item" data-type="animals">
    			<img data-src="http://lorempixel.com/400/240/animals/1/" class="lazyload" />
    		</div>
    		<div class="isotope-item item-portrait" data-type="nature">
    			<img data-src="http://lorempixel.com/240/400/nature/9/" class="lazyload" />
    		</div>
    		<div class="isotope-item item-portrait" data-type="people">
    			<img data-src="http://lorempixel.com/240/400/people/8/" class="lazyload" />
    		</div>
    		<div class="isotope-item item-portrait" data-type="people">
    			<img data-src="http://lorempixel.com/240/400/people/9/" class="lazyload" />
    		</div>
    		<div class="isotope-item" data-type="nature">
    			<img data-src="http://lorempixel.com/400/240/nature/1/" class="lazyload" />
    		</div>
    		<div class="isotope-item" data-type="nature">
    			<img data-src="http://lorempixel.com/400/240/nature/2/" class="lazyload" />
    		</div>
    		<div class="isotope-item" data-type="nature">
    			<img data-src="http://lorempixel.com/400/240/nature/3/" class="lazyload" />
    		</div>
    		<div class="isotope-item" data-type="people">
    			<img data-src="http://lorempixel.com/400/240/people/3/" class="lazyload" />
    		</div>
    		<div class="isotope-item" data-type="animals">
    			<img data-src="http://lorempixel.com/400/240/animals/4/" class="lazyload" />
    		</div>
    		<div class="isotope-item item-portrait" data-type="animals">
    			<img data-src="http://lorempixel.com/240/400/animals/6/" class="lazyload" />
    		</div>
    		<div class="isotope-item item-portrait" data-type="people">
    			<img data-src="http://lorempixel.com/240/400/people/2/" class="lazyload" />
    		</div>
    		<div class="isotope-item item-portrait" data-type="people">
    			<img data-src="http://lorempixel.com/240/400/people/3/" class="lazyload" />
    		</div>
    		<div class="isotope-item" data-type="nature">
    			<img data-src="http://lorempixel.com/400/240/nature/4/" class="lazyload" />
    		</div>
    		<div class="isotope-item" data-type="nature">
    			<img data-src="http://lorempixel.com/400/240/nature/8/" class="lazyload" />
    		</div>
    		<div class="isotope-item" data-type="nature">
    			<img data-src="http://lorempixel.com/400/240/nature/9/" class="lazyload" />
    		</div>
    		<div class="isotope-item item-portrait" data-type="nature">
    			<img data-src="http://lorempixel.com/240/400/nature/1/" class="lazyload" />
    		</div>
    		<div class="isotope-item item-portrait" data-type="nature">
    			<img data-src="http://lorempixel.com/240/400/nature/2/" class="lazyload" />
    		</div>
    		<div class="isotope-item" data-type="nature">
    			<img data-src="http://lorempixel.com/400/240/nature/5/" class="lazyload" />
    		</div>
    		<div class="isotope-item" data-type="animals">
    			<img data-src="http://lorempixel.com/400/240/animals/2/" class="lazyload" />
    		</div>
    		<div class="isotope-item" data-type="nature">
    			<img data-src="http://lorempixel.com/400/240/nature/6/" class="lazyload" />
    		</div>
    		<div class="isotope-item item-portrait" data-type="nature">
    			<img data-src="http://lorempixel.com/240/400/nature/3/" class="lazyload" />
    		</div>
    		<div class="isotope-item item-portrait" data-type="nature">
    			<img data-src="http://lorempixel.com/240/400/nature/4/" class="lazyload" />
    		</div>
    		<div class="isotope-item item-portrait" data-type="nature">
    			<img data-src="http://lorempixel.com/240/400/nature/7/" class="lazyload" />
    		</div>
    		<div class="isotope-item" data-type="animals">
    			<img data-src="http://lorempixel.com/400/240/animals/5/" class="lazyload" />
    		</div>
    		<div class="isotope-item" data-type="people">
    			<img data-src="http://lorempixel.com/400/240/people/1/" class="lazyload" />
    		</div>
    		<div class="isotope-item" data-type="animals">
    			<img data-src="http://lorempixel.com/400/240/animals/3/" class="lazyload" />
    		</div>
    		<div class="isotope-item" data-type="animals">
    			<img data-src="http://lorempixel.com/400/240/animals/6/" class="lazyload" />
    		</div>
    		<div class="isotope-item" data-type="animals">
    			<img data-src="http://lorempixel.com/400/240/animals/7/" class="lazyload" />
    		</div>
    		<div class="isotope-item item-portrait" data-type="nature">
    			<img data-src="http://lorempixel.com/240/400/nature/8/" class="lazyload" />
    		</div>
    		<div class="isotope-item" data-type="animals">
    			<img data-src="http://lorempixel.com/400/240/animals/8/" class="lazyload" />
    		</div>
    		<div class="isotope-item" data-type="animals">
    			<img data-src="http://lorempixel.com/400/240/animals/9/" class="lazyload" />
    		</div>
    		<div class="isotope-item item-portrait" data-type="nature">
    			<img data-src="http://lorempixel.com/240/400/nature/6/" class="lazyload" />
    		</div>
    		<div class="isotope-item item-portrait" data-type="animals">
    			<img data-src="http://lorempixel.com/240/400/animals/3/" class="lazyload" />
    		</div>
    		<div class="isotope-item item-portrait" data-type="animals">
    			<img data-src="http://lorempixel.com/240/400/animals/4/" class="lazyload" />
    		</div>
    		<div class="isotope-item item-portrait" data-type="nature">
    			<img data-src="http://lorempixel.com/240/400/nature/5/" class="lazyload" />
    		</div>
    		<div class="isotope-item item-portrait" data-type="people">
    			<img data-src="http://lorempixel.com/240/400/people/7/" class="lazyload" />
    		</div>
    		<div class="isotope-item item-portrait" data-type="animals">
    			<img data-src="http://lorempixel.com/240/400/animals/5/" class="lazyload" />
    		</div>
    		<div class="isotope-item item-portrait" data-type="animals">
    			<img data-src="http://lorempixel.com/240/400/animals/7/" class="lazyload" />
    		</div>
    		<div class="isotope-item" data-type="people">
    			<img data-src="http://lorempixel.com/400/240/people/7/" class="lazyload" />
    		</div> -->
      </div>
    </div>
    <script type="text/javascript">
        var wrapper = querySelector('.isotope-wrapper');
        $('.isotope-wrapper')
          .each(function(){

              var $isotope = $('.isotope-box', this);
              var $filterCheckboxes = $('input[type="radio"]', this);

              var filter = function(){
                var type = $filterCheckboxes.filter(':checked').data('type') || '*';
                if(type !== '*'){
                  type = '[data-type="'+ type +'"]';
                }
                $isotope.isotope({ filter: type });
              };

              $isotope.isotope({
                itemSelector: '.isotope-item',
                layoutMode: 'masonry'
              });

              $(this).on('change', filter);
              filter();
          })
        ;
    </script>
    <script src="{% static "assets/js/jsOnlyLightbox-0.5.6/js/lightbox.js" %}" type="text/javascript"></script>
    <script>
    	var lightbox = new Lightbox();
    	lightbox.load();
    </script>
  </body>
</html>
